<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="shortcut icon" href="http://comebackgloebb.ch/content/misc/favicon.ico" type="image/x-icon"/>
    <title>Santichlaus 2012 - Anmeldung</title>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/node.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/node_gallery.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/defaults.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/system.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/system-menus.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/user.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/fckeditor.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/style.css"/>
    <link type="text/css" rel="stylesheet" media="print" href="./Santichlaus%202012%20-%20Anmeldung_files/print.css"/>
    <link type="text/css" rel="stylesheet" media="all" href="./Santichlaus%202012%20-%20Anmeldung_files/santichlaus.css"/>
    <!--[if lt IE 7]>
      <link type="text/css" rel="stylesheet" media="all" href="/content/themes/garland/fix-ie.css" />
    <![endif]-->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  </head>
  <body class="sidebar-left">
    <!-- Layout -->
    <div id="header-region" class="clear-block"></div>
    <div id="wrapper">
      <div id="container" class="clear-block">
        <div id="header">
          <div id="logo-floater">
            <h1>
              <a href="./Santichlaus%202012%20-%20Anmeldung_files/Santichlaus%202012%20-%20Anmeldung.html" title="">
                <img src="./Santichlaus%202012%20-%20Anmeldung_files/garland_logo.png" alt="" id="logo"/>
              </a>
            </h1>
          </div>
          <ul class="links primary-links">
            <li class="menu-122 first">
              <a href="http://comebackgloebb.ch/content/node/5" title="Willkommen beim Come Back Glöbb Allschwil">Willkommen</a>
            </li>
            <li class="menu-115 active-trail">
              <a href="http://comebackgloebb.ch/content/node" title="Aktuelles rund um den Glöbb">Aktuelles</a>
            </li>
            <li class="menu-123">
              <a href="http://comebackgloebb.ch/content/node/6" title="Projekte">Projekte</a>
            </li>
            <li class="menu-124 last">
              <a href="http://comebackgloebb.ch/content/node/7" title="Mitglieder">Mitglieder</a>
            </li>
          </ul>                                  
        </div> <!-- /header -->
        <div id="sidebar-left" class="sidebar">
          <div id="block-menu-primary-links" class="clear-block block block-menu">
            <h2>Come Back Glöbb</h2>
            <div class="content">
              <ul class="menu">
                <li class="leaf first">
                  <a href="http://comebackgloebb.ch/content/node/5" title="Willkommen beim Come Back Glöbb Allschwil">Willkommen</a>
                </li>
                <li class="expanded active-trail">
                  <a href="http://comebackgloebb.ch/content/node" title="Aktuelles rund um den Glöbb">Aktuelles</a>
                  <ul class="menu">
                    <li class="leaf first active-trail">
                      <a href="http://comebackgloebb.ch/content/node/393" title="Santichlaus 2012 - Anmeldung" class="active">Santichlaus 2012 Anmeldung</a>
                    </li>
                    <li class="leaf last">
                      <a href="http://comebackgloebb.ch/content/node/105" title="Santichlaus">Interview aus der Basellandschaftlichen Zeitung</a>
                    </li>
                  </ul>
                </li>
                <li class="leaf">
                  <a href="http://comebackgloebb.ch/content/node/6" title="Projekte">Projekte</a>
                </li>
                <li class="collapsed last">
                  <a href="http://comebackgloebb.ch/content/node/7" title="Mitglieder">Mitglieder</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div id="center">
          <div id="squeeze">
            <div class="right-corner">
              <div class="left-corner">
                <h2>Santichlaus 2012 - Anmeldung</h2>
                <div class="clear-block">
                  <div id="node-393" class="node">
                    <div class="content clear-block">
                      <!--<form action="">-->
                        <fieldset>
                          <legend>Adresse</legend>
                          <table>
                            <tr>
                              <td><label for="name">Name</label></td>
                              <td><input id="name" class="validateSomething" name="name" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie Ihren Familiennamen an</td>
                            </tr>
                            <tr>
                              <td><label for="vorname">Vorname</label></td>
                              <td><input id="vorname" class="validateSomething" name="vorname" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie Ihren Vornamen an</td>
                            </tr>
                            <tr>
                              <td><label for="strasse">Strasse Nr</label></td>
                              <td><input id="strasse" class="validateSomething" name="strasse" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie Ihre Adresse an</td>
                            </tr>
                            <tr>
                              <td><label for="ort">Plz Ort</label></td>
                              <td><input id="ort" class="validateSomething" name="ort" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie Ihren Wohnort an</td>
                            </tr>
                            <tr>
                              <td><label for="telefon">Telefon</label></td>
                              <td><input id="telefon" class="validateSomething" name="telefon" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie für Rückfragen Ihre Telefonnummer an</td>
                            </tr>
                            <tr>
                              <td><label for="email">E-Mail</label></td>
                              <td><input id="email" class="validateEmail" name="email" type="text"/></td>
                              <td class="invalidMessage">Bitte geben Sie für Rückfragen Ihre E-Mail-Adresse an</td>
                            </tr>
                          </table>
                        </fieldset>
                        <fieldset>
                          <legend>Gewünschte Uhrzeit</legend>
                          <p>Ich wünsche den Besuch des Santichlauses am 6. Dezember 2012 um:</p>
                          <table>
                            <tr>
                              <td><label>Uhrzeit</label></td>
                              <td>
                                <select class="validateTime">
				  <option></option>
                                  <option>16:30</option>
                                  <option>17:00</option>
                                  <option>17:30</option>
                                  <option>18:00</option>
                                  <option>18:30</option>
                                  <option>19:00</option>
                                  <option>19:30</option>
                                  <option>20:00</option>
                                </select>
                              </td>
                              <td class="invalidMessage">Bitte wählen Sie eine Zeit aus der Dropdown-Liste</td>
                            </tr>
                          </table>
                        </fieldset>
                        <fieldset>
                          <legend>Angaben zum Kind / zu den Kindern</legend>
                          <table id="layout-children">
                            <tr>
                              <td>
                                <img id="add" src="./Santichlaus%202012%20-%20Anmeldung_files/images/list-add.png" alt="Kind hinzufügen"/>
                                <img id="del" src="./Santichlaus%202012%20-%20Anmeldung_files/images/list-remove.png" alt="Kind löschen"/>
                              </td>
                              <td>
                                <button class="helpbutton" value="help">Hilfe zur Anmeldung</button>
                                <button class="submitbutton" value="submit">Anmeldung abschicken</button>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <table id="list-children">
                                  <thead>
                                    <tr>
                                      <td class="childname">Name</td>
                                      <td class="childage">Alter</td>
                                      <td class="childpos">Zu loben</td>
                                      <td class="childneg">Zu tadeln</td>
                                    </tr>
                                  </thead>
                                  <tbody>
                                  </tbody>
                                </table>
                              </td>
                              <td>
                                <table id="details-children" class="editable">
				  <tr>
				    <td><button id="ok" class="okbutton">OK</button></td>
				    <td><button id="cancel" class="cancelbutton">Abbrechen</button></td>
				  </tr>
                                  <tr>
                                    <td><label for="kindname">Name des Kindes</label></td>
                                    <td><input id="kindname" name="kindname"/></td>
                                  </tr>
                                  <tr>
                                    <td><label for="kindalter">Alter des Kindes</label></td>
                                    <td><input id="kindalter" name="kindalter"/></td>
                                  </tr>
                                  <tr>
                                    <td><label for="zuloben">Zu loben</label></td>
                                    <td></td>
                                  </tr>
                                  <tr>
                                    <td colspan="2"><textarea id="zuloben" cols="120" rows="20"></textarea></td>
                                  </tr>
                                  <tr>
                                    <td><label for="zutadeln">Zu tadeln</label></td>
                                    <td></td>
                                  </tr>
                                  <tr>
                                    <td colspan="2"><textarea id="zutadeln" cols="120" rows="20"></textarea></td>
                                    <td></td>
                                  </tr>
                                </table>
                              </td>
                            </tr>
                          </table>
                        </fieldset>
                      <!--</form>-->
                    </div>
                    <div class="clear-block">
                      <div class="meta"></div>
                    </div>
                  </div>
                </div>
                <div id="footer"></div>
              </div>
            </div>
          </div>
        </div> <!-- /.left-corner, /.right-corner, /#squeeze, /#center -->
      </div> <!-- /container -->
    </div>
    <!-- /layout -->
    <script type="text/javascript">
      //<!--
      $(document).ready(function() {
	function tableContentsToJson() {
	  function makePair(key, value) {
	    return ['"', key, '": "', value, '"'].join();
	  }
	  var ret = [];
	  var columnIds = [];
	  $('.editable td > input [id], .editable td > textarea [id]').each(function(el) {
	    columnIds.push(el.attr('id').text());
	  });
	  $('#list-children tbody tr').not('.editable').each(function(row) {
	    var tmp = {};
	    var contents = row('td input, td textarea');
	    for (var i = 0; i < columnIds.length; ++i) {
	      tmp[columnIds[i]] = contents[i].text();
	    }
	    ret.push(tmp);
	  });
	  return ret;
	}
	function validate(regexp, element) {
		if ($(element).val().match(regexp)) {
			$(element).parent().parent().find(".invalidMessage").css("visibility", "hidden");
		}
		else {
			$(element).parent().parent().find(".invalidMessage").css("visibility", "visible");
		}
	}
	function validateSomething(event) {
		validate(/^.../, event.target);
	}
	function validateEmail(event) {
		validate(/^.+@..+\...+/, event.target);
	}
	function validateTime(event) {
	  return validate(/1[0-9]:[03]0/, event.target);
	}
	$(".validateSomething").blur(validateSomething);
	$(".validateEmail").blur(validateEmail);
	$(".validateTime").change(validateTime);
	$("#add").click(function(e) {
	  $('.editable').css('visibility', 'visible');
	});
	$('#del').click(function(e) {
	  var sel = $('tbody tr.selected');
	  if (sel.length > 0)
	    sel.remove();
	  else
	    $('tbody tr:last !.editable').remove();
	});
	$('.okbutton').click(function(e) {
	  $('#list-children tbody').append([
	    '<tr class="lastInserted"><td class="childname">',
	    $('#kindname').val(),
	    '</td><td class="childage">',
	    $('#kindalter').val(),
	    '</td><td class="childpos">',
	    $('#zuloben').val(),
	    '</td><td class="childneg">',
	    $('#zutadeln').val(),
	    '</td></tr>'
	  ].join(''));
	  $('.lastInserted')
	  .click(function(e) {
	    if ($(this).hasClass('selected')) {
	      $('#list-children tr.selected').removeClass('selected');
	    } else {
	      $('#list-children tr.selected').removeClass('selected');
	      $(this).addClass('selected');
	    }
	  })
	  .removeClass('lastInserted');
	  $('.editable').css('visibility', 'hidden');
	  $('.editable input, .editable textarea').val('');
	});
	$('.cancelbutton').click(function(e) {
	  $('.editable').css('visibility', 'hidden');
	  $('.editable input, .editable textarea').val('');
	});
	$('#send').click(function(e) {
	  alert($.param(tableContentsToJson()));
	})
      });
      // -->
    </script>
  </body>
</html>
<!-- vim:sw=2: -->
